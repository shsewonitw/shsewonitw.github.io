---
layout: post
title: "[Daily morning study] 데이터베이스 인덱스(Index)의 작동 원리와 장단점"
description: >
  #daily morning study
category: 
    - dms
    - -database
hide_last_modified: true
---

![Image](https://github.com/user-attachments/assets/1b38c764-1122-4c72-8acb-ac3a67750ee9)

---
# 데이터베이스 인덱스(Index)의 작동 원리와 장단점

데이터베이스 인덱스는 데이터베이스에서 데이터를 빠르게 검색하고 접근하는 데 도움을 주는 중요한 메커니즘이다. 이번 학습에서는 인덱스의 기본 원리와 다양한 장단점에 대해 알아보자.

## 1. 데이터베이스 인덱스란?

인덱스는 데이터베이스 테이블에서 특정 컬럼의 키값과 해당 데이터의 위치를 매핑한 구조이다. 인덱스를 생성함으로써 데이터를 검색하는 시간을 단축시키고, 데이터에 대한 접근 속도를 높일 수 있다.

### 1.1. 인덱스의 구조

대부분의 데이터베이스는 인덱스를 B-트리(Balanced Tree) 혹은 해시(Hash) 구조로 구현한다. B-트리는 데이터가 정렬된 형태로 저장되어 빠른 검색이 가능하게 해준다.

### 1.2. 인덱스의 종류

- **클러스터드 인덱스(Clustered Index):** 
  - 데이터가 인덱스 순서에 따라 저장된다. 즉, 실제 데이터 레코드가 인덱스의 리프 노드(leaf node)와 동일하게 구성된다.
  
- **논클러스터드 인덱스(Non-Clustered Index):**
  - 실제 데이터와 별도로 인덱스가 존재한다. 인덱스는 키값과 데이터 레코드의 포인터를 포함하고 있다. 

## 2. 인덱스의 작동 원리

인덱스는 데이터베이스의 검색 기능을 개선하는 방식으로 작동한다. 데이터를 검색할 때, 인덱스가 테이블을 스캔하는 대신 인덱스에서 필요한 정보를 찾아 관련 데이터를 직접 가져오는 방식이다.

### 2.1. 예시를 통한 이해

예를 들어, 학생 정보를 저장한 `students` 테이블이 있다고 가정하자.

```sql
CREATE TABLE students (
    id INT PRIMARY KEY,
    name VARCHAR(50),
    age INT
);
```

여기서 `name` 컬럼에 대해 인덱스를 생성해 보자.

```sql
CREATE INDEX idx_name ON students(name);
```

이제 `name`으로 검색할 때, 인덱스를 활용하여 `students` 테이블을 통째로 스캔하는 대신 인덱스에서 필요한 데이터에 대한 포인터를 찾아빠르게 접근할 수 있다.

## 3. 인덱스의 장점

- **검색 속도 향상:** 
  - 인덱스 덕분에 데이터에 대한 검색 시간이 크게 줄어든다. 인덱스가 있기 때문에 전체 테이블을 탐색하는 것보다 빠르게 결과를 찾을 수 있다.

- **정렬 및 필터링 성능 개선:** 
  - 인덱스를 사용하면 정렬(ORDER BY 쿼리)와 필터링(WHERE 조건)의 성능이 향상된다.

- **고유성 지원:** 
  - 인덱스는 데이터의 고유성을 보장할 수 있어 중복을 허용하지 않는 제약 조건(UNIQUE)도 설정할 수 있다.

## 4. 인덱스의 단점

- **디스크 공간 차지:** 
  - 인덱스를 추가할 때마다 추가적인 디스크 공간이 필요하므로, 여러 인덱스를 생성하면 데이터베이스의 공간 낭비가 발생할 수 있다.

- **쓰기 성능 저하:** 
  - 인덱스가 있는 테이블에 데이터를 삽입, 삭제, 수정할 때 인덱스도 갱신해야 하므로 쓰기 성능이 저하될 수 있다.

- **유지 비용:** 
  - 인덱스를 유지 관리하기 위한 추가 비용이 발생한다. 따라서 필요하지 않은 인덱스는 성능 저하를 초래할 수 있다.

## 5. 결론

데이터베이스 인덱스는 데이터 검색 성능을 크게 향상시키는 도구다. 하지만 장점과 단점이 있다는 점에서 어떤 컬럼에 인덱스를 추가할지를 신중히 고민해야 한다. 이러한 요소들을 고려하여 인덱스 사용은 데이터베이스 디자인에서 중요한 결정 중 하나임을 잊지 말자. 

이번 학습 자료에서 데이터베이스 인덱스에 대한 이해가 깊어지길 바라며, 인덱스를 잘 활용하여 최적의 성능을 가져오는 데이터베이스를 구축해 보길 바란다.
